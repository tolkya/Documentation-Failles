<summary><h1>Documentation-Failles</h1></summary>

<details>
<summary><h1> API Application Programming Interface </h1></summary>
<h2> Qu'est-ce qu'une API ?</h2>
<h2>Application Programming Interface</h2>

- Interface qui permet √† deux applications de communiquer
- Pont entre diff√©rents syst√®mes - services
- √âchange de donn√©es standardis√©

![alt text](image.png)

- R√©utiliser des services existants
- Gagner du temps et √©viter de tout recr√©er
- Connecter plusieurs syst√®mes (site web, mobile, base de donn√©es‚Ä¶)

Exemple concret :
- Votre app m√©t√©o ‚Üí API m√©t√©o ‚Üí Donn√©es actualis√©es
- Site e-commerce ‚Üí API banque ‚Üí Validation paiement 

Points cl√©s :
- Comme un serveur dans un restaurant : vous commandez, il apporte ce que vous demandez
- Omnipr√©sentes aujourd'hui (r√©seaux sociaux, e-commerce, etc.)  


<h2> API REST REpresentational State Transfer </h2>

Caract√©ristiques principales :
- Utilise les m√©thodes HTTP standards
- URLs descriptives et pr√©visibles
- Format JSON pour les donn√©es
- Architecture simple et intuitive

M√©thodes HTTP :
- GET /users/123 ‚Üí R√©cup√©rer un utilisateur
- POST /users ‚Üí Cr√©er un utilisateur
- PUT /users/123 ‚Üí Modifier un utilisateur
- DELETE /users/123 ‚Üí Supprimer un utilisateur

Avantages :
- ‚úÖ Simple √† comprendre et impl√©menter
- ‚úÖ Largement adopt√© et support√©
- ‚úÖ Mise en cache efficace


<h2> API GraphQL Query Language for API </h2>

Caract√©ristiques principales :
- Une seule URL pour toutes les op√©rations
- Requ√™tes flexibles et pr√©cises / personnalisation de la requ√™te
- Le client demande exactement ce dont il a besoin

Exemple de requ√™te :
{
    user(id: 123) {
        name
        email
        posts {
            title
        }
    }
}


Avantages :
- ‚úÖ √âvite le sur-fetching et sous-fetching
- ‚úÖ Une seule requ√™te pour des donn√©es complexes
- ‚úÖ Auto-documentation via le sch√©ma


<h2> REST vs GraphQL </h2>

    Aspect                    REST                     GraphQL 
----------------------- ---------------------- --------------------
    Simplicit√© 		          ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê                ‚≠ê‚≠ê‚≠ê 	     
    Flexibilit√©                ‚≠ê‚≠ê‚≠ê                 ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê    
    Performance                ‚≠ê‚≠ê‚≠ê                 ‚≠ê‚≠ê‚≠ê‚≠ê 
    Apprentissage              Facile               Plus complexe 
    √âcosyst√®me                 Mature               En croissance

Quand utiliser REST :
- APIs simples et CRUD basiques
- √âquipe d√©butante
- Mise en cache importante

Quand utiliser GraphQL :
- Applications complexes avec besoins vari√©s
- Applications mobiles (√©conomie de bande passante)
- √âquipe exp√©riment√©e
</details>

<details>
<summary><h1> CSRF Cross-Site Request Forgery </h1></summary>
<h2> Qu'est-ce que CSRF ?</h2>

Cross-Site Request Forgery est une vuln√©rabilit√© qui force un utilisateur authentifi√© √† ex√©cuter des actions non d√©sir√©es sur une application web.

<h2> Principe fondamental </h2>
Utilisateur connect√© + Requ√™te forg√©e = Action malveillante

Exemple : 
- Comme un escroc utilisant votre signature pour des virements, CSRF utilise votre session web pour agir √† votre insu.

<h2> M√©canisme d'une attaque CSRF </h2>

![alt text](A.png)

<h2> Conditions pour une attaque r√©ussie </h2>

![alt text](B.png)

Pourquoi √ßa fonctionne ? Les navigateurs incluent automatiquement les cookies dans toutes les requ√™tes vers un domaine !

<h2>Vecteurs d'attaque CSRF </h2>

- Emails pi√©g√©s

Objet : "üèçÔ∏è Votre moto a gagn√© !"

De : concours@moto-magazine.com


Cliquez ici pour r√©clamer vos 500‚Ç¨ d'√©quipements !

- R√©seaux sociaux 

Liens partag√©s avec descriptions attrayantes

- Attaques AJAX modernes
```bash
// Requ√™te JavaScript malveillante
fetch('https://app.com/api/users/123', {
  method: 'DELETE',
  credentials: 'include' // Cookies inclus !
});
```

- Images malveillantes

```bash
<!-- Image invisible qui ex√©cute l'action -->
<img src="https://app.com/delete-account?confirm=yes" 
     style="width:1px;height:1px;">
```

- Techniques psychologiques
‚Ä¢ Urgence : "Offre limit√©e 5 min !"
‚Ä¢ R√©compense : Gros gains promis
‚Ä¢ Autorit√© : Faux logos officiels
‚Ä¢ Simplicit√© : "Un simple clic"

<h2> Comment Symfony nous prot√®ge </h2>

![alt text](C.png)

- Configuration
```bash
# config/packages/framework.yaml
framework:
    csrf_protection:
        enabled: true
        check_header: true
```

- Template Twig
```bash
{{ form_start(form) }}
    {{ form_widget(form.name) }}
    {{ form_widget(form.email) }}
    
    {# Token CSRF automatique ! #}
    
    <button type="submit">Enregistrer</button>
{{ form_end(form) }}
```

- HTML g√©n√©r√©
```bash
<form method="POST">
    <input type="text" name="user[name]">
    <input type="email" name="user[email]">
    
    <!-- ‚úÖ Token CSRF automatique -->
    <input type="hidden" name="_csrf_token" 
           value="Vx8rQ2mL9kPnF7sA3hN6bE1tY4uI0wR5">
    
    <button type="submit">Enregistrer</button>
</form>
```
</details>

<details>
<summary><h1> IDOR Insecure Direct Object Reference </h1></summary>
<h2> Qu'est-ce qu'une faille IDOR ?</h2>

Une faille IDOR permet d‚Äôacc√©der √† une ressource via un identifiant sans contr√¥le d‚Äôacc√®s.

Exemple :

https://site.com/profil?id=123

‚û° Si je remplace 123 par 124 et que j‚Äôacc√®de au profil de quelqu‚Äôun d‚Äôautre ‚Üí faille IDOR.

<h2> Comment √ßa marche ? </h2>

- Les objets (comptes, fichiers, commandes) ont un identifiant unique.
- L‚Äôapplication ne v√©rifie pas si l‚Äôutilisateur a le droit d‚Äôy acc√©der.

Exemple :

https://banque.com/compte?id=4501

‚û° Si un client change 4501 en 4502 et acc√®de au compte d‚Äôun autre ‚Üí faille.

<h2> Cons√©quences </h2>

- Acc√®s √† des donn√©es personnelles (risque RGPD).
- Modification ou suppression de donn√©es sensibles.
- Escalade de privil√®ges (ex. un simple utilisateur acc√®de √† des fonctions admin).

<h2> Pr√©vention </h2>

- Ne jamais faire confiance aux param√®tres c√¥t√© client (URL, cookies, formulaires).
- V√©rifier syst√©matiquement les droits d‚Äôacc√®s.
- Utiliser des identifiants non pr√©visibles (UUID, tokens).
- Faire des tests de s√©curit√© (pentests, bug bounty).


<h2> Conclusion & OWASP </h2>

- Les IDOR sont simples √† exploiter mais aux cons√©quences graves.
- Elles font partie du Top 10 OWASP 2021 : cat√©gorie #1 ‚Äì Broken Access Control.

<h2> Message cl√© : Toujours v√©rifier qui demande, et √† quoi il a droit. </h2>
</details>

<details>
<summary><h1> MITM Man-in-the-Middle </h1></summary>
<h2> Qu'est-ce qu'une attaque MITM ?</h2>

Une attaque Man-in-the-Middle est une cyberattaque o√π un attaquant
s'interpose secr√®tement entre deux parties qui communiquent, interceptant
et potentiellement modifiant leurs √©changes sans que les victimes s'en
aper√ßoivent.

![alt text](MITM.png)

<h2> Comment fonctionne une attaque MITM ? </h2>

1. Positionnement
- Wi-Fi public non s√©curis√©
- ARP Spoofing
- DNS Spoofing
- Compromission de routeur

2. Interception
- Capture de paquets r√©seau
- D√©cryptage des communications
- Analyse des m√©tadonn√©es
- Enregistrement des sessions

3. Manipulation
- Modification des donn√©es
- Injection de code malveillant
- Redirection frauduleuse
- Usurpation d'identit√©

<h2> Types d'attaques MITM </h2>

- Evil Twin
Cr√©ation d'un faux point d'acc√®s Wi-Fi avec un nom identique √† un r√©seau
l√©gitime pour tromper les utilisateurs.

- ARP Spoofing
Falsification des adresses MAC dans les tables ARP pour rediriger le trafic
vers la machine de l'attaquant.

- SSL Stripping
R√©trogradation des connexions HTTPS vers HTTP pour intercepter les
donn√©es en clair.

- DNS Spoofing
Falsification des r√©ponses DNS pour rediriger vers des serveurs malveillants
contr√¥l√©s par l'attaquant.

<h2> Risques et cons√©quences </h2>

<h3>Pour les particuliers</h3>

- Vol d'identifiants : mots de passe, comptes bancaires
- Usurpation d'identit√© : acc√®s aux r√©seaux sociaux, emails
- Espionnage : lecture des messages priv√©s, historique
- Fraude financi√®re : transactions d√©tourn√©es

<h3>Pour les entreprises</h3>

- Espionnage industriel : vol de secrets commerciaux
- Compromission des syst√®mes : acc√®s aux serveurs internes
- Violation de donn√©es : exposition d'informations clients
- Perte de r√©putation : impact sur la confiance

<h2> Risques et cons√©quences </h2>

- Chiffrement
  - HTTPS obligatoire
  - VPN pour tout le trafic
  - Messagerie chiffr√©e
  - Protocoles s√©curis√©s

- Vigilance r√©seau
  - √âviter les Wi-Fi publics
  - V√©rifier les certificats SSL
  - Utiliser des r√©seaux de confiance
  - Surveiller les connexions

- Bonnes pratiques
  - Authentification 2FA
  - Mises √† jour r√©guli√®res
  - DNS s√©curis√©s
  - Formation utilisateurs

- Outils de protection
  - Antivirus avec protection r√©seau
  - Pare-feu personnels
  - extensions HTTPS
  - D√©tection ARP Spoofing

<h2> Symfony : Protection c√¥t√© d√©veloppement </h2>
<h3>Pourquoi Symfony contre les attaques MITM ?</h3>

Symfony, framework PHP robuste, int√®gre de nombreuses fonctionnalit√©s de s√©curit√© natives qui aident √† prot√©ger les applications web contre les attaques Man-in-the-Middle.

- HTTPS forc√©
-  Protection CSRF
- Gestion des sessions
- Headers de s√©curit√©

<h3>Fonctionnalit√©s avanc√©es</h3>

- Validation des donn√©es
  - Validation c√¥t√© serveur obligatoire
  - Sanitisation automatique des inputs
  - Protection contre l'injection SQL

- Authentification robuste
  - Syst√®me d'authentification int√©gr√©
  - Hashage s√©curis√© des mots de passe
  - Support OAuth2/JWT

<h3>Bonnes pratiques Symfony contre MITM</h3>

- Toujours utiliser HTTPS en production
- Configurer les headers de s√©curit√© appropri√©s
- Valider toutes les entr√©es utilisateur
- Utiliser les bundles de s√©curit√© (SecurityBundle)
- Maintenir Symfony √† jour pour les correctifs de s√©curit√©
- Configurer un firewall appropri√©
</details>

<details>
<summary><h1> MVC Model-View-Controller </h1></summary>
<h2> Qu'est-ce que le MVC ?</h2>

Le MVC (Model-View-Controller) est un pattern architectural 'DESIGN PATTERN' qui s√©pare une application en 3 parties distinctes :

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ    MODEL     ‚îÇ  ‚Üê Donn√©es + Logique m√©tier
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  CONTROLLER  ‚îÇ  ‚Üê Chef d'orchestre
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
       ‚Üï
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     VIEW     ‚îÇ  ‚Üê Interface utilisateur
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

<h2> MODEL (Mod√®le) </h2>
<h3>R√¥le : G√®re les donn√©es et la logique m√©tier</h3>

- Acc√®s √† la base de donn√©es
- Validation des donn√©es
- R√®gles m√©tier
- Ne conna√Æt RIEN de l'interface utilisateur

<h2> VIEW (Vue) </h2>
<h3>R√¥le : Affichage et interface utilisateur</h3>

- Pages HTML
- Templates
- Formulaires
- Ne fait QUE afficher
- Ne contient AUCUNE logique m√©tier

<h2> CONTROLLER (Contr√¥leur) </h2>
<h3>R√¥le : Chef d'orchestre entre Model et View</h3>

- Re√ßoit les requ√™tes utilisateur
- Appelle le Model pour r√©cup√©rer/modifier les donn√©es
- Choisit la View √† afficher
- Passe les donn√©es √† la View

<h2> FLUX D'EX√âCUTION </h2>

```
1. Utilisateur clique sur "Voir les motos"
         ‚Üì
2. CONTROLLER re√ßoit la demande
         ‚Üì
3. CONTROLLER demande les donn√©es au MODEL
         ‚Üì
4. MODEL r√©cup√®re les donn√©es de la BDD
         ‚Üì
5. CONTROLLER passe les donn√©es √† la VIEW
         ‚Üì
6. VIEW affiche la page √† l'utilisateur
```

<h2> AVANTAGES DU MVC </h2>

<h3>‚úÖ S√âPARATION DES RESPONSABILIT√âS</h3>

- Un d√©veloppeur front : travaille sur les Views
- Un d√©veloppeur back : travaille sur les Models
- Un chef de projet :  d√©finit les Controllers

<h3>‚úÖ MAINTENANCE FACILE</h3>

- Changer l'interface ? ‚Üí Modifier seulement les Views
- Changer de base de donn√©es ? ‚Üí Modifier seulement les Models
- Ajouter une fonctionnalit√© ? ‚Üí Ajouter un Controller

<h3>‚úÖ R√âUTILISABILIT√â</h3>

- Un Model peut √™tre utilis√© par plusieurs Controllers
- Une View peut afficher diff√©rents types de donn√©es

<h3>‚úÖ TESTABILIT√â</h3>

- Tester la logique m√©tier ind√©pendamment de l'interface
- Tester l'interface ind√©pendamment des donn√©es

<h2> ‚ùå CE QU'IL NE FAUT PAS FAIRE : </h2>

- Mettre du SQL dans une View
- Mettre du HTML dans un Model
- Faire des √©chos/prints dans un Controller
- M√©langer la logique m√©tier avec l'affichage

<h2> ‚úÖ CE QU'IL FAUT FAIRE : </h2>

- `Model` : Seulement les donn√©es et la logique m√©tier
- `View` : Seulement l'affichage
- `Controller` : Seulement la coordination entre les deux

<h2> FRAMEWORKS QUI UTILISENT MVC </h2>

- `PHP` : Laravel, Symfony, CodeIgniter
- `JavaScript` : Angular, Vue.js
- `Python` : Django, Flask
- `Java` : Spring MVC
- `C#` : ASP.NET MVC

<h2> CONCLUSION </h2>

Le MVC n'est PAS compliqu√© ! C'est juste une fa√ßon logique d'organiser son code :

1. `Model` = La cuisine (pr√©pare les donn√©es)
2. `View` = La salle de restaurant (pr√©sente au client)  
3. `Controller` = Le serveur (fait le lien entre les deux)
</details>


<details>
<summary><h1> ORM Object-Relational Mapping </h1></summary>
<h2> C‚Äôest quoi ORM ? </h2>
ORM (Object-Relational Mapping) d√©signe une technique de programmation informatique qui cr√©e un pont entre les bases de donn√©es relationnelles et le paradigme de la programmation orient√©e objet. L‚ÄôORM permet aux d√©veloppeurs d‚Äôinteragir avec une base de donn√©es √† l‚Äôaide d‚Äôobjets, sans avoir √† √©crire directement des instructions SQL ou √† g√©rer les √©changes de donn√©es de mani√®re manuelle.

<h2> Exemples d‚ÄôORM c√©l√®bres </h2>

- Hibernate : un outil ORM tr√®s utilis√© dans l‚Äô√©cosyst√®me Java.
- Entity Framework : le framework ORM de Microsoft pour .NET.
- Django ORM : int√©gr√© dans le framework web Django pour Python.
- ActiveRecord : utilis√© en Ruby, notamment avec le framework Rails.
- Sequelize : une solution ORM populaire pour Node.js.

<h2> D√©finition d√©taill√©e </h2>

Dans le d√©veloppement d‚Äôapplications, l‚Äôacc√®s et la gestion des donn√©es jouent un r√¥le central. Les bases de donn√©es traditionnelles fonctionnent avec des tables et des relations, tandis que les langages de programmation modernes utilisent des objets pour mod√©liser des entit√©s et des comportements. L‚ÄôORM offre une couche d‚Äôabstraction qui permet de manipuler ces objets et de les persister en base de donn√©es comme s‚Äôils √©taient des enregistrements de tables.

Gr√¢ce √† l‚ÄôORM, les d√©veloppeurs n‚Äôont pas besoin de se focaliser sur la complexit√© des commandes SQL. Ils peuvent rester dans le contexte de leur langage de programmation habituel, en s‚Äôappuyant sur des classes et des instances d‚Äôobjets pour repr√©senter et manipuler leurs donn√©es. Un des principaux avantages de cette m√©thode est qu‚Äôelle r√©duit les erreurs potentielles dans le code SQL, et acc√©l√®re le d√©veloppement en permettant la r√©utilisation du code orient√© objet.

<h2> Symfony --> Doctrine </h2>

<h3> Avantage :</h3>

- parler a doctrine dans le langage de doctrine qui se d√©brouillera pour aller chercher cela dans la base peu importe la configuration de la base de donn√©es..
- Il n‚Äôy a plus de risque d‚Äôinjection SQL.
- Si la requ√™te n‚Äôa pas possible d‚Äô√™tre faite par L‚ÄôORM alors il est possible de faire la requ√™te manuellement mais attention risque.
- Rapide, S√©curit√©, +++.

<h3>Dans un projet Symfony :</h3>

- Une Entity au sens des ORM c‚Äôest la repr√©sentation sous forme d‚Äôobjet d‚Äôune ligne d‚Äôune table. DONC entity = objet. Qui dis objet dis CLASSE.
- Repository, c‚Äôest ce que contient les m√©thodes pour instancier un objet de la table. 

<h3>Pour cr√©er une entity </h3>

```bash
sf make:entity
```
D√©finissez un objet de la table.
<h3> MIGRATIONS </h3>

Une fois que les entity, repository et autre sont cr√©√©e
```bash
sf make:migration
```

Cr√©ation d‚Äôun fichier de migration qui sera horodat√©.
Ce fichier de migration, quand vous allez lancer la commande migration Symfony, va parcourir toutes les entit√©s et les propri√©t√©s et il va tout faire. Donc, on va obtenir un fichier.
Ensuite, il faudra faire
```bash
sf doctrine:migrations:migrate
```
</details>


<details>
<summary><h1> XSS Cross‚ÄëSite Scripting  </h1></summary>
<h2> Qu‚Äôest-ce qu‚Äôune faille XSS ? </h2>

Les XSS font partie de la cat√©gorie des vuln√©rabilit√©s par injection de code au m√™me titre que les injections SQL. Cependant pour d√©couvrir et exploiter une faille XSS, il s‚Äôagit pour un attaquant d‚Äôinjecter du code malveillant via les param√®tres d‚Äôentr√©e c√¥t√© client.

<h2> Impact potentiel </h2>

- Vol de cookie / token d'authentification (si non HttpOnly ou via JS).
- Usurpation d'identit√©, actions au nom de l'utilisateur.
- Attaques de phishing, propagation de malware, compromission de comptes.

<h2> Vocabulaire essentiel </h2>

- Payload : le code malveillant inject√© 
- Exemple : 

```bash
<script>alert(1)</script>
```

- Escaping (√©chappement) : transformer des caract√®res sp√©ciaux pour qu'ils s'affichent ( < ‚Üí &lt; ), pas d‚Äôex√©cution.
- Sanitization : nettoyage/filtrage du HTML autoris√©, enlever balises/attributs dangereux (ex : HTML Purifier).
- CSP : Content Security Policy ‚Äî r√®gle c√¥t√© navigateur limitant d'o√π les scripts peuvent √™tre charg√©s.
- HttpOnly cookie : cookie non accessible en JavaScript (r√©duit le vol via XSS).

<h2> I. Attaque XSS refl√©t√©e </h2>

![alt text](Attaque-XSS-refleÃÅteÃÅe-1024x535.png)

<h2> II. Attaque XSS stock√©e </h2>

![alt text](XSS-stockee-1024x535.jpg)

<h2> Framework (symphony) vs XSS  </h2>

- Ils fournissent souvent : auto‚Äëescaping dans les moteurs de templates
- {{ post.content }} est √©chapp√© automatiquement par Twig 
- const postData = JSON.parse('{{ post|json_encode|e("js") }}‚Äô);
json_encode produit une cha√Æne JSON s√ªre
|e('js') √©vite que des s√©quences bris√©es √©crasent le script.
- Exemple :
```bash
Bundle :
     nelmio/security-bundle

$safeContents = $htmlSanitizer->sanitize($unsafeContents);
```

<h2> Protections essentielles  </h2>

1) √âchapper la sortie selon le contexte (htmlspecialchars, attribute, JS, URL).
2) Utiliser le moteur de template (Twig) : auto-escape par d√©faut ‚Äî √©viter |raw.
3) Ne jamais ins√©rer HTML utilisateur sans sanitizer (ex :  HTMLPurifier($config);).
4) Mettre en place CSP (report-only puis enforcement).
5) Cookies HttpOnly, Secure, SameSite.
